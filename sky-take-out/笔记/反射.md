#### 反射的基本操作
```java
public class Person{
    public String name = "张三";
    public void sayHello(){
        System.out.println("你好，我是"+name);
    }
}
```

1. 获取类的身份证(Class对象)
```java
public class Main{
    public static void main(String[] args) throws Exception{
        // 方式1：直接获取(最常用)
        Class<Person> clazz1 = Person.class;
        System.out.println("类名:"+clazz1.getName());//com.wujiaohuang.sky.Person
        System.out.println("简单类名"+clazz1.getSimpleName());//Person
        
        //方式2：通过对象获取
        Person p = new Person();
        Class<?> clazz2 = p.getClass();
        System.out.println(clazz2 == clazz1);
        
        //方式3：通过字符串类名获取
        Class<?> clazz3 = Class.forName("com.wujiaohuang.sky.Person");//注意：这里要写完整包名
        
        
    }
}
```

2. 用类创建对象

```java
import javax.naming.ldap.Control;
import java.lang.reflect.Constructor;

public class Main {
    public static void main(String[] args) throws Exception {
        //获取class对象
        Class<Person> clazz1 = Person.class;
        //方式1： 用newInstance() 创建(过时了，但简单)
        Person p1 = clazz1.newInstance();
        p1.sayHello();

        //方式2： 用构造器创建(推荐)
        Constructor<Person> constructor = clazz1.getConstructor(String.class);
        Person p2 = constructor.newInstance("李四");
        p2.sayHello();
    }
}
```

3. 用反射调用方法
```java
public class Main{
    public static void main(String[] args) throws Exception {
        Person persosn = new Person();
        Class<Person> clazz = Person.class;
        
        //获取方法对象
        //getMethod("方法名",参数类型1，参数类型2...)
        Method sayHelloMethod = clazz.getMethod("sayHello");
        //获取名叫"sayHello"的方法，这个方法没有参数
        
        //调用方法
        //method.invoke(对象，参数1，参数2，...)
        sayHelloMethod.invoke(person);
        //等价于person.sayHello();
        //输出:你好，我是张三
    }
}
```

4. 按步骤访问属性
```java
public class Main {
    public static void main(String[] args) throws Exception{
        Person person = new Person();
        Class<Person> clazz = Person.class;
        //访问公共属性
        //第一步: 获取属性对象
        //获取名为name的属性
        Field nameField = clazz.getField("name");
        //第2步 获取属性值
        //获取person对象的name属性值
        Object nameValue = nameField.get(person);
        System.out.println("name属性值：" + nameValue);  // 输出：张三
        
        //第3步 设置属性值
        nameField.set(person,"李四");
        System.out.println("修改后:"+person.name);
        //访问私有属性
        //假设person类有一个私有属性
        //private int age = 20;
        //获取私有属性
        Field ageField = clazz.getDeclaredField("age");
        //设置可访问(打破封装，暴力破解)
        ageField.setAccessible(true);
        
        //现在可以访问私有属性了
        int age = (int) ageField.get(person);
        System.out.println("私有属性age:"+age);
    }
}


```